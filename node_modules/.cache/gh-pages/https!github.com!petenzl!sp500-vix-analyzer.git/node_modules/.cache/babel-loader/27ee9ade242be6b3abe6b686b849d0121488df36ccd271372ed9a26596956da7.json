{"ast":null,"code":"var _jsxFileName = \"/Users/peterwaring/repos/sp500-vix-analyzer/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [timeFrame, setTimeFrame] = useState('1Y');\n  const [signal, setSignal] = useState({\n    message: 'Loading...',\n    color: 'text-gray-500'\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [historicalSignals, setHistoricalSignals] = useState([]);\n  const [averageReturn, setAverageReturn] = useState(null);\n  const [average6MonthReturn, setAverage6MonthReturn] = useState(null);\n  const [benchmarkAverageReturn, setBenchmarkAverageReturn] = useState(null);\n  const [customStartDate, setCustomStartDate] = useState('');\n  const [customEndDate, setCustomEndDate] = useState('');\n\n  // --- Data fetching function for Yahoo Finance ---\n  const fetchData = async () => {\n    if (timeFrame === 'Custom' && (!customStartDate || !customEndDate)) {\n      setError(\"Please select both a start and end date for the custom range.\");\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setHistoricalSignals([]);\n    setAverageReturn(null);\n    setAverage6MonthReturn(null);\n    setBenchmarkAverageReturn(null);\n    setSignal({\n      message: 'Loading Data...',\n      color: 'text-gray-500'\n    });\n\n    // --- Determine display start and end dates ---\n    let displayStartDate, displayEndDate;\n    const today = new Date();\n    if (timeFrame === 'Custom') {\n      displayStartDate = new Date(customStartDate);\n      displayEndDate = new Date(customEndDate);\n    } else {\n      displayEndDate = new Date(); // today\n      displayStartDate = new Date();\n      let yearsToSubtract = 1;\n      switch (timeFrame) {\n        case '2Y':\n          yearsToSubtract = 2;\n          break;\n        case '5Y':\n          yearsToSubtract = 5;\n          break;\n        case '10Y':\n          yearsToSubtract = 10;\n          break;\n        case '20Y':\n          yearsToSubtract = 20;\n          break;\n        case '50Y':\n          yearsToSubtract = 50;\n          break;\n        default:\n          yearsToSubtract = 1;\n      }\n      displayStartDate.setFullYear(displayStartDate.getFullYear() - yearsToSubtract);\n    }\n\n    // --- Determine fetch start and end dates ---\n    const fetchStartDate = displayStartDate;\n    const fetchEndDate = new Date(displayEndDate);\n    fetchEndDate.setFullYear(fetchEndDate.getFullYear() + 1);\n    const startDateStamp = Math.floor(fetchStartDate.getTime() / 1000);\n    const endDateStamp = Math.min(Math.floor(fetchEndDate.getTime() / 1000), Math.floor(today.getTime() / 1000));\n\n    // --- Yahoo Finance API URLs with a CORS Proxy ---\n    const proxyUrl = 'https://corsproxy.io/?';\n    const originalSpxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/%5EGSPC?period1=${startDateStamp}&period2=${endDateStamp}&interval=1d&events=history`;\n    const originalVixUrl = `https://query1.finance.yahoo.com/v8/finance/chart/%5EVIX?period1=${startDateStamp}&period2=${endDateStamp}&interval=1d&events=history`;\n    const spxUrl = proxyUrl + encodeURIComponent(originalSpxUrl);\n    const vixUrl = proxyUrl + encodeURIComponent(originalVixUrl);\n    try {\n      const [spxResponse, vixResponse] = await Promise.all([fetch(spxUrl), fetch(vixUrl)]);\n      if (!spxResponse.ok || !vixResponse.ok) {\n        throw new Error('Failed to fetch data from Yahoo Finance. The service or CORS proxy may be temporarily unavailable.');\n      }\n      const spxJson = await spxResponse.json();\n      const vixJson = await vixResponse.json();\n\n      // --- Parse Yahoo Finance data structure ---\n      const parseYahooData = jsonData => {\n        if (!jsonData.chart.result) return [];\n        const result = jsonData.chart.result[0];\n        if (!result) return [];\n        const timestamps = result.timestamp;\n        const prices = result.indicators.quote[0].close;\n        return timestamps.map((ts, i) => ({\n          date: new Date(ts * 1000).toISOString().split('T')[0],\n          price: prices[i] ? parseFloat(prices[i].toFixed(2)) : null\n        })).filter(d => d.price !== null);\n      };\n      const spxData = parseYahooData(spxJson);\n      const vixData = parseYahooData(vixJson);\n\n      // --- Combine S&P 500 and VIX data ---\n      const combinedData = spxData.map(spxPoint => {\n        const vixPoint = vixData.find(vix => vix.date === spxPoint.date);\n        return {\n          date: spxPoint.date,\n          spx: spxPoint.price,\n          vix: vixPoint ? vixPoint.price : null\n        };\n      }).filter(point => point.vix !== null);\n\n      // Filter data to the selected timeframe for display on the chart\n      const finalDisplayData = combinedData.filter(d => {\n        const dDate = new Date(d.date);\n        return dDate >= displayStartDate && dDate <= displayEndDate;\n      });\n      setData(finalDisplayData);\n\n      // --- Signal Logic & Historical Analysis ---\n      const signals = [];\n      for (let i = 1; i < combinedData.length; i++) {\n        const currentPoint = combinedData[i];\n        const previousPoint = combinedData[i - 1];\n        if (previousPoint.vix > 30 && currentPoint.vix < previousPoint.vix) {\n          const sixMonthForwardDate = new Date(new Date(currentPoint.date).setMonth(new Date(currentPoint.date).getMonth() + 6));\n          const twelveMonthForwardDate = new Date(new Date(currentPoint.date).setFullYear(new Date(currentPoint.date).getFullYear() + 1));\n          const sixMonthForwardPoint = combinedData.find(p => new Date(p.date) >= sixMonthForwardDate);\n          const twelveMonthForwardPoint = combinedData.find(p => new Date(p.date) >= twelveMonthForwardDate);\n          let sixMonthReturn = null;\n          let twelveMonthReturn = null;\n          if (sixMonthForwardPoint) {\n            sixMonthReturn = (sixMonthForwardPoint.spx - currentPoint.spx) / currentPoint.spx * 100;\n          }\n          if (twelveMonthForwardPoint) {\n            twelveMonthReturn = (twelveMonthForwardPoint.spx - currentPoint.spx) / currentPoint.spx * 100;\n          }\n          signals.push({\n            date: currentPoint.date,\n            spxOnSignal: currentPoint.spx,\n            vixOnSignal: currentPoint.vix,\n            sixMonthForwardReturn: sixMonthReturn !== null ? sixMonthReturn.toFixed(2) : null,\n            forwardReturn: twelveMonthReturn !== null ? twelveMonthReturn.toFixed(2) : null\n          });\n        }\n      }\n      const filteredSignals = signals.filter(s => {\n        const sDate = new Date(s.date);\n        return sDate >= displayStartDate && sDate <= displayEndDate;\n      });\n      setHistoricalSignals(filteredSignals);\n      if (filteredSignals.length > 0) {\n        const signalsWith6MReturns = filteredSignals.filter(s => s.sixMonthForwardReturn !== null);\n        if (signalsWith6MReturns.length > 0) {\n          const total6MReturn = signalsWith6MReturns.reduce((acc, signal) => acc + parseFloat(signal.sixMonthForwardReturn), 0);\n          setAverage6MonthReturn((total6MReturn / signalsWith6MReturns.length).toFixed(2));\n        }\n        const signalsWith12MReturns = filteredSignals.filter(s => s.forwardReturn !== null);\n        if (signalsWith12MReturns.length > 0) {\n          const total12MReturn = signalsWith12MReturns.reduce((acc, signal) => acc + parseFloat(signal.forwardReturn), 0);\n          setAverageReturn((total12MReturn / signalsWith12MReturns.length).toFixed(2));\n        }\n      }\n\n      // --- Calculate Benchmark Average Return ---\n      const benchmarkReturns = [];\n      for (let i = 0; i < finalDisplayData.length; i++) {\n        const currentPoint = finalDisplayData[i];\n        const forwardDate = new Date(new Date(currentPoint.date).setFullYear(new Date(currentPoint.date).getFullYear() + 1));\n        const forwardPoint = combinedData.find(p => new Date(p.date) >= forwardDate);\n        if (forwardPoint) {\n          const returnVal = (forwardPoint.spx - currentPoint.spx) / currentPoint.spx * 100;\n          benchmarkReturns.push(returnVal);\n        }\n      }\n      if (benchmarkReturns.length > 0) {\n        const totalBenchmarkReturn = benchmarkReturns.reduce((acc, val) => acc + val, 0);\n        setBenchmarkAverageReturn((totalBenchmarkReturn / benchmarkReturns.length).toFixed(2));\n      }\n      if (finalDisplayData.length >= 2) {\n        const latestPoint = finalDisplayData[finalDisplayData.length - 1];\n        const previousPoint = finalDisplayData[finalDisplayData.length - 2];\n        if (previousPoint.vix > 30 && latestPoint.vix < previousPoint.vix) {\n          setSignal({\n            message: 'Good Time to Enter',\n            color: 'text-green-500'\n          });\n        } else if (latestPoint.vix > 30) {\n          setSignal({\n            message: 'High Fear: Monitor',\n            color: 'text-yellow-500'\n          });\n        } else {\n          setSignal({\n            message: 'Wait',\n            color: 'text-red-500'\n          });\n        }\n      } else {\n        setSignal({\n          message: 'No Data',\n          color: 'text-yellow-500'\n        });\n      }\n    } catch (err) {\n      setError(err.message);\n      setSignal({\n        message: 'Error',\n        color: 'text-red-500'\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (timeFrame !== 'Custom') {\n      fetchData();\n    }\n  }, [timeFrame]);\n  const handleCustomDateSubmit = () => {\n    if (customStartDate && customEndDate) {\n      if (new Date(customStartDate) > new Date(customEndDate)) {\n        setError(\"Start date cannot be after end date.\");\n        return;\n      }\n      fetchData();\n    } else {\n      setError(\"Please select both a start and end date.\");\n    }\n  };\n  const formattedData = useMemo(() => {\n    return data.map(d => ({\n      ...d,\n      date: new Date(d.date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      })\n    }));\n  }, [data]);\n  const formatXAxis = tickItem => {\n    const date = new Date(tickItem);\n    if (timeFrame === '1Y' || timeFrame === '2Y' || timeFrame === '5Y') {\n      const month = date.toLocaleDateString('en-US', {\n        month: 'short'\n      });\n      const year = date.getFullYear().toString().slice(-2);\n      return `${month}'${year}`;\n    }\n    return date.getFullYear();\n  };\n  const timeFrames = ['1Y', '2Y', '5Y', '10Y', '20Y', '50Y', 'Custom'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 text-white min-h-screen p-4 sm:p-6 lg:p-8 font-sans\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl sm:text-4xl font-bold text-cyan-400\",\n          children: \"S&P 500 & VIX Market Entry Analyzer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 mt-2\",\n          children: \"Using the VIX as a market sentiment indicator to find potential entry points. Data from Yahoo Finance.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 flex justify-center flex-wrap items-center gap-2\",\n            children: timeFrames.map(tf => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setTimeFrame(tf),\n              disabled: isLoading,\n              className: `px-4 py-2 text-sm font-medium rounded-md transition-colors ${timeFrame === tf ? 'bg-cyan-500 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'} disabled:opacity-50 disabled:cursor-not-allowed`,\n              children: tf\n            }, tf, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), timeFrame === 'Custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-end gap-4 mb-6 bg-gray-800 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"startDate\",\n                className: \"block text-sm font-medium text-gray-300 mb-1\",\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"startDate\",\n                value: customStartDate,\n                onChange: e => setCustomStartDate(e.target.value),\n                className: \"bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"endDate\",\n                className: \"block text-sm font-medium text-gray-300 mb-1\",\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"endDate\",\n                value: customEndDate,\n                onChange: e => setCustomEndDate(e.target.value),\n                className: \"bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCustomDateSubmit,\n              disabled: isLoading,\n              className: \"bg-cyan-500 text-white px-4 py-2 rounded-md hover:bg-cyan-600 transition-colors disabled:opacity-50\",\n              children: \"Apply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-white\",\n              children: [\"S&P 500 vs. VIX (\", timeFrame === 'Custom' && customStartDate && customEndDate ? `${customStartDate} to ${customEndDate}` : timeFrame, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 400,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center h-full text-gray-400\",\n                children: \"Loading chart data...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 36\n              }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center justify-center h-full p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-400\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 117\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: fetchData,\n                  className: \"mt-4 px-4 py-2 bg-cyan-500 text-white rounded-md hover:bg-cyan-600 transition-colors\",\n                  children: \"Retry\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 162\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 35\n              }, this) : data.length > 0 ? /*#__PURE__*/_jsxDEV(LineChart, {\n                data: formattedData,\n                margin: {\n                  top: 5,\n                  right: 20,\n                  left: -10,\n                  bottom: 5\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  stroke: \"#4A5568\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  stroke: \"#A0AEC0\",\n                  tick: {\n                    fontSize: 12\n                  },\n                  tickFormatter: formatXAxis\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  yAxisId: \"left\",\n                  stroke: \"#63B3ED\",\n                  label: {\n                    value: 'S&P 500 (^GSPC)',\n                    angle: -90,\n                    position: 'insideLeft',\n                    fill: '#63B3ED'\n                  },\n                  tick: {\n                    fontSize: 12\n                  },\n                  domain: ['dataMin', 'dataMax']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  yAxisId: \"right\",\n                  orientation: \"right\",\n                  stroke: \"#F6E05E\",\n                  label: {\n                    value: 'VIX (^VIX)',\n                    angle: 90,\n                    position: 'insideRight',\n                    fill: '#F6E05E'\n                  },\n                  tick: {\n                    fontSize: 12\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  contentStyle: {\n                    backgroundColor: '#1A202C',\n                    border: '1px solid #4A5568'\n                  },\n                  labelStyle: {\n                    color: '#E2E8F0'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  yAxisId: \"left\",\n                  type: \"monotone\",\n                  dataKey: \"spx\",\n                  stroke: \"#63B3ED\",\n                  strokeWidth: 2,\n                  dot: false,\n                  name: \"S&P 500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  yAxisId: \"right\",\n                  type: \"monotone\",\n                  dataKey: \"vix\",\n                  stroke: \"#F6E05E\",\n                  strokeWidth: 2,\n                  dot: false,\n                  name: \"VIX\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(ReferenceLine, {\n                  yAxisId: \"right\",\n                  y: 30,\n                  label: {\n                    value: \"High Fear\",\n                    position: \"insideTopRight\",\n                    fill: \"#A0AEC0\"\n                  },\n                  stroke: \"#FC8181\",\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center h-full text-gray-400\",\n                children: \"No data available for the selected range.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), !isLoading && data.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex justify-around gap-x-4 text-center\",\n              children: [average6MonthReturn !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400 block text-sm\",\n                  children: \"Signal Avg 6M Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold text-xl ${average6MonthReturn > 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: [average6MonthReturn, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 29\n              }, this), averageReturn !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400 block text-sm\",\n                  children: \"Signal Avg 12M Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold text-xl ${averageReturn > 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: [averageReturn, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 29\n              }, this), benchmarkAverageReturn !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400 block text-sm\",\n                  children: \"S&P 500 Avg 12M Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold text-xl ${benchmarkAverageReturn > 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: [benchmarkAverageReturn, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 p-6 rounded-xl shadow-lg text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-white\",\n              children: \"Market Entry Signal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 79\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-4xl font-bold ${signal.color}`,\n              children: signal.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 157\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 mt-2\",\n              children: \"Based on latest data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 229\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-white\",\n              children: \"Latest Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 67\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"S&P 500:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 215\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl font-bold text-blue-400\",\n                  children: !isLoading && data.length > 0 ? data[data.length - 1].spx.toFixed(2) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 262\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 164\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"VIX:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 455\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl font-bold text-yellow-400\",\n                  children: !isLoading && data.length > 0 && data[data.length - 1].vix ? data[data.length - 1].vix.toFixed(2) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 498\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 404\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 137\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-2 text-white\",\n              children: \"Methodology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 67\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm\",\n              children: [\"This tool uses the VIX, often called the \\\"fear index,\\\" to gauge market sentiment. A high VIX suggests fear and potential market bottoms.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 310\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 315\n              }, this), \"The signal turns to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-green-500\",\n                children: \"\\\"Good Time to Enter\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 340\n              }, this), \" when the VIX has been high (above 30) and shows signs of declining, suggesting fear is subsiding. This is a contrarian indicator.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 137\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 bg-gray-800 rounded-xl shadow-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-white mb-4\",\n          children: [\"Historical Buy Signals (\", timeFrame === 'Custom' && customStartDate && customEndDate ? `${customStartDate} to ${customEndDate}` : timeFrame, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), !isLoading && data.length > 0 && (historicalSignals.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto max-h-96\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-sm text-left text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"text-xs text-cyan-400 uppercase bg-gray-700 sticky top-0\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3\",\n                  children: \"S&P 500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3\",\n                  children: \"VIX\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3\",\n                  children: \"6-Month Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3\",\n                  children: \"12-Month Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: historicalSignals.map((signal, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-gray-800 border-b border-gray-700 hover:bg-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: new Date(signal.date).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: signal.spxOnSignal.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: signal.vixOnSignal.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `px-6 py-4 font-bold ${signal.sixMonthForwardReturn === null ? 'text-gray-400' : parseFloat(signal.sixMonthForwardReturn) > 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: signal.sixMonthForwardReturn !== null ? `${signal.sixMonthForwardReturn}%` : 'Pending...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `px-6 py-4 font-bold ${signal.forwardReturn === null ? 'text-gray-400' : parseFloat(signal.forwardReturn) > 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: signal.forwardReturn !== null ? `${signal.forwardReturn}%` : 'Pending...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 33\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-400 py-8\",\n          children: \"No historical buy signals found for this period.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-400 py-8\",\n          children: \"Loading historical data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"4u2o8+ETdThPf2Sreq7mi09ZU7g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceLine","jsxDEV","_jsxDEV","App","_s","data","setData","timeFrame","setTimeFrame","signal","setSignal","message","color","isLoading","setIsLoading","error","setError","historicalSignals","setHistoricalSignals","averageReturn","setAverageReturn","average6MonthReturn","setAverage6MonthReturn","benchmarkAverageReturn","setBenchmarkAverageReturn","customStartDate","setCustomStartDate","customEndDate","setCustomEndDate","fetchData","displayStartDate","displayEndDate","today","Date","yearsToSubtract","setFullYear","getFullYear","fetchStartDate","fetchEndDate","startDateStamp","Math","floor","getTime","endDateStamp","min","proxyUrl","originalSpxUrl","originalVixUrl","spxUrl","encodeURIComponent","vixUrl","spxResponse","vixResponse","Promise","all","fetch","ok","Error","spxJson","json","vixJson","parseYahooData","jsonData","chart","result","timestamps","timestamp","prices","indicators","quote","close","map","ts","i","date","toISOString","split","price","parseFloat","toFixed","filter","d","spxData","vixData","combinedData","spxPoint","vixPoint","find","vix","spx","point","finalDisplayData","dDate","signals","length","currentPoint","previousPoint","sixMonthForwardDate","setMonth","getMonth","twelveMonthForwardDate","sixMonthForwardPoint","p","twelveMonthForwardPoint","sixMonthReturn","twelveMonthReturn","push","spxOnSignal","vixOnSignal","sixMonthForwardReturn","forwardReturn","filteredSignals","s","sDate","signalsWith6MReturns","total6MReturn","reduce","acc","signalsWith12MReturns","total12MReturn","benchmarkReturns","forwardDate","forwardPoint","returnVal","totalBenchmarkReturn","val","latestPoint","err","handleCustomDateSubmit","formattedData","toLocaleDateString","year","month","day","formatXAxis","tickItem","toString","slice","timeFrames","className","children","fileName","_jsxFileName","lineNumber","columnNumber","tf","onClick","disabled","htmlFor","type","id","value","onChange","e","target","width","height","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","tick","fontSize","tickFormatter","yAxisId","label","angle","position","fill","domain","orientation","contentStyle","backgroundColor","border","labelStyle","strokeWidth","dot","name","y","scope","index","_c","$RefreshReg$"],"sources":["/Users/peterwaring/repos/sp500-vix-analyzer/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine } from 'recharts';\n\nconst App = () => {\n  const [data, setData] = useState([]);\n  const [timeFrame, setTimeFrame] = useState('1Y');\n  const [signal, setSignal] = useState({ message: 'Loading...', color: 'text-gray-500' });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [historicalSignals, setHistoricalSignals] = useState([]);\n  const [averageReturn, setAverageReturn] = useState(null);\n  const [average6MonthReturn, setAverage6MonthReturn] = useState(null);\n  const [benchmarkAverageReturn, setBenchmarkAverageReturn] = useState(null);\n  const [customStartDate, setCustomStartDate] = useState('');\n  const [customEndDate, setCustomEndDate] = useState('');\n\n\n  // --- Data fetching function for Yahoo Finance ---\n  const fetchData = async () => {\n    if (timeFrame === 'Custom' && (!customStartDate || !customEndDate)) {\n        setError(\"Please select both a start and end date for the custom range.\");\n        return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n    setHistoricalSignals([]);\n    setAverageReturn(null);\n    setAverage6MonthReturn(null);\n    setBenchmarkAverageReturn(null);\n    setSignal({ message: 'Loading Data...', color: 'text-gray-500' });\n\n    // --- Determine display start and end dates ---\n    let displayStartDate, displayEndDate;\n    const today = new Date();\n\n    if (timeFrame === 'Custom') {\n        displayStartDate = new Date(customStartDate);\n        displayEndDate = new Date(customEndDate);\n    } else {\n        displayEndDate = new Date(); // today\n        displayStartDate = new Date();\n        let yearsToSubtract = 1;\n        switch(timeFrame) {\n            case '2Y': yearsToSubtract = 2; break;\n            case '5Y': yearsToSubtract = 5; break;\n            case '10Y': yearsToSubtract = 10; break;\n            case '20Y': yearsToSubtract = 20; break;\n            case '50Y': yearsToSubtract = 50; break;\n            default: yearsToSubtract = 1;\n        }\n        displayStartDate.setFullYear(displayStartDate.getFullYear() - yearsToSubtract);\n    }\n    \n    // --- Determine fetch start and end dates ---\n    const fetchStartDate = displayStartDate;\n    const fetchEndDate = new Date(displayEndDate);\n    fetchEndDate.setFullYear(fetchEndDate.getFullYear() + 1);\n\n    const startDateStamp = Math.floor(fetchStartDate.getTime() / 1000);\n    const endDateStamp = Math.min(Math.floor(fetchEndDate.getTime() / 1000), Math.floor(today.getTime() / 1000));\n\n\n    // --- Yahoo Finance API URLs with a CORS Proxy ---\n    const proxyUrl = 'https://corsproxy.io/?';\n    const originalSpxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/%5EGSPC?period1=${startDateStamp}&period2=${endDateStamp}&interval=1d&events=history`;\n    const originalVixUrl = `https://query1.finance.yahoo.com/v8/finance/chart/%5EVIX?period1=${startDateStamp}&period2=${endDateStamp}&interval=1d&events=history`;\n\n    const spxUrl = proxyUrl + encodeURIComponent(originalSpxUrl);\n    const vixUrl = proxyUrl + encodeURIComponent(originalVixUrl);\n\n    try {\n      const [spxResponse, vixResponse] = await Promise.all([\n        fetch(spxUrl),\n        fetch(vixUrl)\n      ]);\n\n      if (!spxResponse.ok || !vixResponse.ok) {\n        throw new Error('Failed to fetch data from Yahoo Finance. The service or CORS proxy may be temporarily unavailable.');\n      }\n\n      const spxJson = await spxResponse.json();\n      const vixJson = await vixResponse.json();\n\n      // --- Parse Yahoo Finance data structure ---\n      const parseYahooData = (jsonData) => {\n        if (!jsonData.chart.result) return [];\n        const result = jsonData.chart.result[0];\n        if (!result) return [];\n        const timestamps = result.timestamp;\n        const prices = result.indicators.quote[0].close;\n        return timestamps.map((ts, i) => ({\n          date: new Date(ts * 1000).toISOString().split('T')[0],\n          price: prices[i] ? parseFloat(prices[i].toFixed(2)) : null\n        })).filter(d => d.price !== null);\n      };\n\n      const spxData = parseYahooData(spxJson);\n      const vixData = parseYahooData(vixJson);\n\n      // --- Combine S&P 500 and VIX data ---\n      const combinedData = spxData.map((spxPoint) => {\n        const vixPoint = vixData.find(vix => vix.date === spxPoint.date);\n        return {\n          date: spxPoint.date,\n          spx: spxPoint.price,\n          vix: vixPoint ? vixPoint.price : null,\n        };\n      }).filter(point => point.vix !== null);\n\n      // Filter data to the selected timeframe for display on the chart\n      const finalDisplayData = combinedData.filter(d => {\n        const dDate = new Date(d.date);\n        return dDate >= displayStartDate && dDate <= displayEndDate;\n      });\n      setData(finalDisplayData);\n\n      // --- Signal Logic & Historical Analysis ---\n      const signals = [];\n      for (let i = 1; i < combinedData.length; i++) {\n        const currentPoint = combinedData[i];\n        const previousPoint = combinedData[i-1];\n\n        if (previousPoint.vix > 30 && currentPoint.vix < previousPoint.vix) {\n          const sixMonthForwardDate = new Date(new Date(currentPoint.date).setMonth(new Date(currentPoint.date).getMonth() + 6));\n          const twelveMonthForwardDate = new Date(new Date(currentPoint.date).setFullYear(new Date(currentPoint.date).getFullYear() + 1));\n          \n          const sixMonthForwardPoint = combinedData.find(p => new Date(p.date) >= sixMonthForwardDate);\n          const twelveMonthForwardPoint = combinedData.find(p => new Date(p.date) >= twelveMonthForwardDate);\n          \n          let sixMonthReturn = null;\n          let twelveMonthReturn = null;\n\n          if (sixMonthForwardPoint) {\n            sixMonthReturn = ((sixMonthForwardPoint.spx - currentPoint.spx) / currentPoint.spx) * 100;\n          }\n          if (twelveMonthForwardPoint) {\n            twelveMonthReturn = ((twelveMonthForwardPoint.spx - currentPoint.spx) / currentPoint.spx) * 100;\n          }\n\n          signals.push({\n            date: currentPoint.date,\n            spxOnSignal: currentPoint.spx,\n            vixOnSignal: currentPoint.vix,\n            sixMonthForwardReturn: sixMonthReturn !== null ? sixMonthReturn.toFixed(2) : null,\n            forwardReturn: twelveMonthReturn !== null ? twelveMonthReturn.toFixed(2) : null,\n          });\n        }\n      }\n      \n      const filteredSignals = signals.filter(s => {\n        const sDate = new Date(s.date);\n        return sDate >= displayStartDate && sDate <= displayEndDate;\n      });\n      setHistoricalSignals(filteredSignals);\n\n      if (filteredSignals.length > 0) {\n        const signalsWith6MReturns = filteredSignals.filter(s => s.sixMonthForwardReturn !== null);\n        if (signalsWith6MReturns.length > 0) {\n            const total6MReturn = signalsWith6MReturns.reduce((acc, signal) => acc + parseFloat(signal.sixMonthForwardReturn), 0);\n            setAverage6MonthReturn((total6MReturn / signalsWith6MReturns.length).toFixed(2));\n        }\n\n        const signalsWith12MReturns = filteredSignals.filter(s => s.forwardReturn !== null);\n        if (signalsWith12MReturns.length > 0) {\n            const total12MReturn = signalsWith12MReturns.reduce((acc, signal) => acc + parseFloat(signal.forwardReturn), 0);\n            setAverageReturn((total12MReturn / signalsWith12MReturns.length).toFixed(2));\n        }\n      }\n\n      // --- Calculate Benchmark Average Return ---\n      const benchmarkReturns = [];\n      for (let i = 0; i < finalDisplayData.length; i++) {\n        const currentPoint = finalDisplayData[i];\n        const forwardDate = new Date(new Date(currentPoint.date).setFullYear(new Date(currentPoint.date).getFullYear() + 1));\n        const forwardPoint = combinedData.find(p => new Date(p.date) >= forwardDate);\n        if (forwardPoint) {\n            const returnVal = ((forwardPoint.spx - currentPoint.spx) / currentPoint.spx) * 100;\n            benchmarkReturns.push(returnVal);\n        }\n      }\n      if (benchmarkReturns.length > 0) {\n        const totalBenchmarkReturn = benchmarkReturns.reduce((acc, val) => acc + val, 0);\n        setBenchmarkAverageReturn((totalBenchmarkReturn / benchmarkReturns.length).toFixed(2));\n      }\n\n      if (finalDisplayData.length >= 2) {\n        const latestPoint = finalDisplayData[finalDisplayData.length - 1];\n        const previousPoint = finalDisplayData[finalDisplayData.length - 2];\n        if (previousPoint.vix > 30 && latestPoint.vix < previousPoint.vix) {\n          setSignal({ message: 'Good Time to Enter', color: 'text-green-500' });\n        } else if (latestPoint.vix > 30) {\n          setSignal({ message: 'High Fear: Monitor', color: 'text-yellow-500' });\n        } else {\n          setSignal({ message: 'Wait', color: 'text-red-500' });\n        }\n      } else {\n        setSignal({ message: 'No Data', color: 'text-yellow-500' });\n      }\n\n    } catch (err) {\n      setError(err.message);\n      setSignal({ message: 'Error', color: 'text-red-500' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (timeFrame !== 'Custom') {\n        fetchData();\n    }\n  }, [timeFrame]);\n  \n  const handleCustomDateSubmit = () => {\n    if (customStartDate && customEndDate) {\n        if (new Date(customStartDate) > new Date(customEndDate)) {\n            setError(\"Start date cannot be after end date.\");\n            return;\n        }\n        fetchData();\n    } else {\n        setError(\"Please select both a start and end date.\");\n    }\n  }\n\n  const formattedData = useMemo(() => {\n    return data.map(d => ({\n      ...d,\n      date: new Date(d.date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })\n    }));\n  }, [data]);\n\n  const formatXAxis = (tickItem) => {\n    const date = new Date(tickItem);\n    if (timeFrame === '1Y' || timeFrame === '2Y' || timeFrame === '5Y') {\n        const month = date.toLocaleDateString('en-US', { month: 'short' });\n        const year = date.getFullYear().toString().slice(-2);\n        return `${month}'${year}`;\n    }\n    return date.getFullYear();\n  };\n\n  const timeFrames = ['1Y', '2Y', '5Y', '10Y', '20Y', '50Y', 'Custom'];\n\n  return (\n    <div className=\"bg-gray-900 text-white min-h-screen p-4 sm:p-6 lg:p-8 font-sans\">\n      <div className=\"max-w-7xl mx-auto\">\n        <header className=\"mb-6\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-cyan-400\">S&P 500 & VIX Market Entry Analyzer</h1>\n          <p className=\"text-gray-400 mt-2\">Using the VIX as a market sentiment indicator to find potential entry points. Data from Yahoo Finance.</p>\n        </header>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <div className=\"lg:col-span-2\">\n            <div className=\"mb-4 flex justify-center flex-wrap items-center gap-2\">\n                {timeFrames.map(tf => (\n                    <button key={tf} onClick={() => setTimeFrame(tf)} disabled={isLoading} className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${ timeFrame === tf ? 'bg-cyan-500 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600' } disabled:opacity-50 disabled:cursor-not-allowed`}>\n                        {tf}\n                    </button>\n                ))}\n            </div>\n\n            {timeFrame === 'Custom' && (\n                <div className=\"flex justify-center items-end gap-4 mb-6 bg-gray-800 p-4 rounded-lg\">\n                    <div>\n                        <label htmlFor=\"startDate\" className=\"block text-sm font-medium text-gray-300 mb-1\">Start Date</label>\n                        <input type=\"date\" id=\"startDate\" value={customStartDate} onChange={e => setCustomStartDate(e.target.value)} className=\"bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:outline-none\"/>\n                    </div>\n                    <div>\n                        <label htmlFor=\"endDate\" className=\"block text-sm font-medium text-gray-300 mb-1\">End Date</label>\n                        <input type=\"date\" id=\"endDate\" value={customEndDate} onChange={e => setCustomEndDate(e.target.value)} className=\"bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:outline-none\"/>\n                    </div>\n                    <button onClick={handleCustomDateSubmit} disabled={isLoading} className=\"bg-cyan-500 text-white px-4 py-2 rounded-md hover:bg-cyan-600 transition-colors disabled:opacity-50\">Apply</button>\n                </div>\n            )}\n            \n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n                <h2 className=\"text-xl font-semibold mb-4 text-white\">S&P 500 vs. VIX ({timeFrame === 'Custom' && customStartDate && customEndDate ? `${customStartDate} to ${customEndDate}` : timeFrame})</h2>\n                <ResponsiveContainer width=\"100%\" height={400}>\n                    {isLoading ? ( <div className=\"flex items-center justify-center h-full text-gray-400\">Loading chart data...</div>\n                    ) : error ? ( <div className=\"flex flex-col items-center justify-center h-full p-4 text-center\"><span className=\"text-red-400\">{error}</span><button onClick={fetchData} className=\"mt-4 px-4 py-2 bg-cyan-500 text-white rounded-md hover:bg-cyan-600 transition-colors\">Retry</button></div>\n                    ) : data.length > 0 ? (\n                        <LineChart data={formattedData} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#4A5568\" />\n                            <XAxis dataKey=\"date\" stroke=\"#A0AEC0\" tick={{ fontSize: 12 }} tickFormatter={formatXAxis} />\n                            <YAxis yAxisId=\"left\" stroke=\"#63B3ED\" label={{ value: 'S&P 500 (^GSPC)', angle: -90, position: 'insideLeft', fill: '#63B3ED' }} tick={{ fontSize: 12 }} domain={['dataMin', 'dataMax']} />\n                            <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"#F6E05E\" label={{ value: 'VIX (^VIX)', angle: 90, position: 'insideRight', fill: '#F6E05E' }} tick={{ fontSize: 12 }} />\n                            <Tooltip contentStyle={{ backgroundColor: '#1A202C', border: '1px solid #4A5568' }} labelStyle={{ color: '#E2E8F0' }} />\n                            <Legend />\n                            <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"spx\" stroke=\"#63B3ED\" strokeWidth={2} dot={false} name=\"S&P 500\" />\n                            <Line yAxisId=\"right\" type=\"monotone\" dataKey=\"vix\" stroke=\"#F6E05E\" strokeWidth={2} dot={false} name=\"VIX\" />\n                            <ReferenceLine yAxisId=\"right\" y={30} label={{ value: \"High Fear\", position: \"insideTopRight\", fill: \"#A0AEC0\" }} stroke=\"#FC8181\" strokeDasharray=\"3 3\" />\n                        </LineChart>\n                    ) : ( <div className=\"flex items-center justify-center h-full text-gray-400\">No data available for the selected range.</div> )}\n                </ResponsiveContainer>\n                {/* --- Average Returns Display --- */}\n                {!isLoading && (data.length > 0) && (\n                    <div className=\"mt-4 flex justify-around gap-x-4 text-center\">\n                        {average6MonthReturn !== null && (\n                            <div className=\"text-lg\">\n                                <span className=\"text-gray-400 block text-sm\">Signal Avg 6M Return</span>\n                                <span className={`font-bold text-xl ${average6MonthReturn > 0 ? 'text-green-400' : 'text-red-400'}`}>\n                                    {average6MonthReturn}%\n                                </span>\n                            </div>\n                        )}\n                        {averageReturn !== null && (\n                            <div className=\"text-lg\">\n                                <span className=\"text-gray-400 block text-sm\">Signal Avg 12M Return</span>\n                                <span className={`font-bold text-xl ${averageReturn > 0 ? 'text-green-400' : 'text-red-400'}`}>\n                                    {averageReturn}%\n                                </span>\n                            </div>\n                        )}\n                        {benchmarkAverageReturn !== null && (\n                            <div className=\"text-lg\">\n                                <span className=\"text-gray-400 block text-sm\">S&P 500 Avg 12M Return</span>\n                                <span className={`font-bold text-xl ${benchmarkAverageReturn > 0 ? 'text-green-400' : 'text-red-400'}`}>\n                                    {benchmarkAverageReturn}%\n                                </span>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n          </div>\n\n          <div className=\"space-y-8\">\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg text-center\"><h2 className=\"text-xl font-semibold mb-4 text-white\">Market Entry Signal</h2><p className={`text-4xl font-bold ${signal.color}`}>{signal.message}</p><p className=\"text-gray-400 mt-2\">Based on latest data</p></div>\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\"><h2 className=\"text-xl font-semibold mb-4 text-white\">Latest Data</h2><div className=\"space-y-3\"><div className=\"flex justify-between items-center\"><span className=\"text-gray-400\">S&P 500:</span><span className=\"text-2xl font-bold text-blue-400\">{!isLoading && data.length > 0 ? data[data.length - 1].spx.toFixed(2) : 'N/A'}</span></div><div className=\"flex justify-between items-center\"><span className=\"text-gray-400\">VIX:</span><span className=\"text-2xl font-bold text-yellow-400\">{!isLoading && data.length > 0 && data[data.length-1].vix ? data[data.length - 1].vix.toFixed(2) : 'N/A'}</span></div></div></div>\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\"><h2 className=\"text-xl font-semibold mb-2 text-white\">Methodology</h2><p className=\"text-gray-400 text-sm\">This tool uses the VIX, often called the \"fear index,\" to gauge market sentiment. A high VIX suggests fear and potential market bottoms.<br/><br/>The signal turns to <strong className=\"text-green-500\">\"Good Time to Enter\"</strong> when the VIX has been high (above 30) and shows signs of declining, suggesting fear is subsiding. This is a contrarian indicator.</p></div>\n          </div>\n        </div>\n\n        {/* --- Historical Signals Table --- */}\n        <div className=\"mt-8 bg-gray-800 rounded-xl shadow-lg p-6\">\n            <h2 className=\"text-xl font-semibold text-white mb-4\">Historical Buy Signals ({timeFrame === 'Custom' && customStartDate && customEndDate ? `${customStartDate} to ${customEndDate}` : timeFrame})</h2>\n            {!isLoading && data.length > 0 && (\n                historicalSignals.length > 0 ? (\n                    <div className=\"overflow-x-auto max-h-96\">\n                        <table className=\"w-full text-sm text-left text-gray-300\">\n                            <thead className=\"text-xs text-cyan-400 uppercase bg-gray-700 sticky top-0\">\n                            <tr>\n                                <th scope=\"col\" className=\"px-6 py-3\">Date</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">S&P 500</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">VIX</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">6-Month Return</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">12-Month Return</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {historicalSignals.map((signal, index) => (\n                                <tr key={index} className=\"bg-gray-800 border-b border-gray-700 hover:bg-gray-600\">\n                                <td className=\"px-6 py-4\">{new Date(signal.date).toLocaleDateString()}</td>\n                                <td className=\"px-6 py-4\">{signal.spxOnSignal.toFixed(2)}</td>\n                                <td className=\"px-6 py-4\">{signal.vixOnSignal.toFixed(2)}</td>\n                                <td className={`px-6 py-4 font-bold ${\n                                    signal.sixMonthForwardReturn === null \n                                    ? 'text-gray-400' \n                                    : (parseFloat(signal.sixMonthForwardReturn) > 0 ? 'text-green-400' : 'text-red-400')\n                                }`}>\n                                    {signal.sixMonthForwardReturn !== null ? `${signal.sixMonthForwardReturn}%` : 'Pending...'}\n                                </td>\n                                <td className={`px-6 py-4 font-bold ${\n                                    signal.forwardReturn === null \n                                    ? 'text-gray-400' \n                                    : (parseFloat(signal.forwardReturn) > 0 ? 'text-green-400' : 'text-red-400')\n                                }`}>\n                                    {signal.forwardReturn !== null ? `${signal.forwardReturn}%` : 'Pending...'}\n                                </td>\n                                </tr>\n                            ))}\n                            </tbody>\n                        </table>\n                    </div>\n                ) : (\n                    <div className=\"text-center text-gray-400 py-8\">\n                        No historical buy signals found for this period.\n                    </div>\n                )\n            )}\n            {isLoading && (\n                <div className=\"text-center text-gray-400 py-8\">\n                    Loading historical data...\n                </div>\n            )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}